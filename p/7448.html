<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
    
    <title>ä¸‰ç§UIScrollViewåµŒå¥—å®ç°æ–¹æ¡ˆ | Vanch&#39;s Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#00BCD4">
    
    
    <meta name="keywords" content="é‡æ„">
    <meta name="description" content="èƒŒæ™¯éšç€äº§å“åŠŸèƒ½ä¸æ–­çš„è¿­ä»£ï¼Œæ€»ä¼šæœ‰éœ€æ±‚å¸Œæœ›åœ¨ä¿è¯ä¸å½±å“å…¶ä»–åŒºåŸŸåŠŸèƒ½çš„å‰æä¸‹ï¼Œåœ¨æŸä¸€åŒºåŸŸå®ç°æ ¹æ®é€‰æ‹©å™¨åˆ‡æ¢ä¸åŒçš„å†…å®¹æ˜¾ç¤ºã€‚                                                                                                            è‹¹æœå¹¶ä¸æ¨èåµŒå¥—æ»šåŠ¨è§†å›¾ï¼Œå¦‚æœç›´æ¥æ·»åŠ çš„è¯ï¼Œå°±ä¼šå‡ºç°ä¸‹å›¾è¿™ç§æƒ…å†µ">
<meta name="keywords" content="é‡æ„">
<meta property="og:type" content="article">
<meta property="og:title" content="ä¸‰ç§UIScrollViewåµŒå¥—å®ç°æ–¹æ¡ˆ">
<meta property="og:url" content="https://vanchchen.github.io/p/7448.html">
<meta property="og:site_name" content="Vanch&#39;s Blog">
<meta property="og:description" content="èƒŒæ™¯éšç€äº§å“åŠŸèƒ½ä¸æ–­çš„è¿­ä»£ï¼Œæ€»ä¼šæœ‰éœ€æ±‚å¸Œæœ›åœ¨ä¿è¯ä¸å½±å“å…¶ä»–åŒºåŸŸåŠŸèƒ½çš„å‰æä¸‹ï¼Œåœ¨æŸä¸€åŒºåŸŸå®ç°æ ¹æ®é€‰æ‹©å™¨åˆ‡æ¢ä¸åŒçš„å†…å®¹æ˜¾ç¤ºã€‚                                                                                                            è‹¹æœå¹¶ä¸æ¨èåµŒå¥—æ»šåŠ¨è§†å›¾ï¼Œå¦‚æœç›´æ¥æ·»åŠ çš„è¯ï¼Œå°±ä¼šå‡ºç°ä¸‹å›¾è¿™ç§æƒ…å†µ">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://vanch-1258064554.cos.ap-shanghai.myqcloud.com/gif/gif_1699821243_12.gif">
<meta property="og:image" content="https://vanch-1258064554.cos.ap-shanghai.myqcloud.com/gif/gif_1544777437_77.gif">
<meta property="og:image" content="https://vanch-1258064554.cos.ap-shanghai.myqcloud.com/blog/pic_1545731447_55.jpg">
<meta property="og:image" content="https://vanch-1258064554.cos.ap-shanghai.myqcloud.com/blog/pic_1545731463_75.jpg">
<meta property="og:image" content="https://vanch-1258064554.cos.ap-shanghai.myqcloud.com/blog/pic_1545731478_85.jpg">
<meta property="og:updated_time" content="2018-12-25T09:54:50.335Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ä¸‰ç§UIScrollViewåµŒå¥—å®ç°æ–¹æ¡ˆ">
<meta name="twitter:description" content="èƒŒæ™¯éšç€äº§å“åŠŸèƒ½ä¸æ–­çš„è¿­ä»£ï¼Œæ€»ä¼šæœ‰éœ€æ±‚å¸Œæœ›åœ¨ä¿è¯ä¸å½±å“å…¶ä»–åŒºåŸŸåŠŸèƒ½çš„å‰æä¸‹ï¼Œåœ¨æŸä¸€åŒºåŸŸå®ç°æ ¹æ®é€‰æ‹©å™¨åˆ‡æ¢ä¸åŒçš„å†…å®¹æ˜¾ç¤ºã€‚                                                                                                            è‹¹æœå¹¶ä¸æ¨èåµŒå¥—æ»šåŠ¨è§†å›¾ï¼Œå¦‚æœç›´æ¥æ·»åŠ çš„è¯ï¼Œå°±ä¼šå‡ºç°ä¸‹å›¾è¿™ç§æƒ…å†µ">
<meta name="twitter:image" content="https://vanch-1258064554.cos.ap-shanghai.myqcloud.com/gif/gif_1699821243_12.gif">
    
        <link rel="alternate" type="application/atom+xml" title="Vanch&#39;s Blog" href="/atom.xml">
    
    <link rel="shortcut icon" href="/images/favicon.ico">
    <link rel="stylesheet" href="/css/style.css?v=1.7.2">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/images/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">Vanch</h5>
          <a href="mailto:447389831@qq.com" title="447389831@qq.com" class="mail">447389831@qq.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                ä¸»é¡µ
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories/iOS/"  >
                <i class="icon icon-lg icon-apple"></i>
                iOS
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                åˆ†ç±»
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                æ‰€æœ‰
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/about"  >
                <i class="icon icon-lg icon-user"></i>
                å…³äº
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/VanchChen" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://www.cnblogs.com/vanch/" target="_blank" >
                <i class="icon icon-lg icon-rss"></i>
                åšå®¢å›­
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">ä¸‰ç§UIScrollViewåµŒå¥—å®ç°æ–¹æ¡ˆ</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="è¾“å…¥æ„Ÿå…´è¶£çš„å…³é”®å­—">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">ä¸‰ç§UIScrollViewåµŒå¥—å®ç°æ–¹æ¡ˆ</h1>
        <h5 class="subtitle">
            
                <time datetime="2018-12-25T09:34:25.000Z" itemprop="datePublished" class="page-time">
  2018-12-25
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/iOS/">iOS</a></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#èƒŒæ™¯"><span class="post-toc-number">1.</span> <span class="post-toc-text">èƒŒæ™¯</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#åˆ†è€Œæ²»ä¹‹"><span class="post-toc-number">2.</span> <span class="post-toc-text">åˆ†è€Œæ²»ä¹‹</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#å„è‡ªä¸ºæ”¿"><span class="post-toc-number">3.</span> <span class="post-toc-text">å„è‡ªä¸ºæ”¿</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#ä¸­å¤®é›†æƒ"><span class="post-toc-number">4.</span> <span class="post-toc-text">ä¸­å¤®é›†æƒ</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#æ€»ç»“"><span class="post-toc-number">5.</span> <span class="post-toc-text">æ€»ç»“</span></a></li></ol>
        </nav>
    </aside>


<article id="post-UIScrollViewåµŒå¥—"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">ä¸‰ç§UIScrollViewåµŒå¥—å®ç°æ–¹æ¡ˆ</h1>
        <div class="post-meta">
            <time class="post-time" title="2018-12-25 17:34:25" datetime="2018-12-25T09:34:25.000Z"  itemprop="datePublished">2018-12-25</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/iOS/">iOS</a></li></ul>



            
<span id="busuanzi_container_page_pv" title="æ–‡ç« æ€»é˜…è¯»é‡" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>éšç€äº§å“åŠŸèƒ½ä¸æ–­çš„è¿­ä»£ï¼Œæ€»ä¼šæœ‰éœ€æ±‚å¸Œæœ›åœ¨ä¿è¯ä¸å½±å“å…¶ä»–åŒºåŸŸåŠŸèƒ½çš„å‰æä¸‹ï¼Œåœ¨æŸä¸€åŒºåŸŸå®ç°æ ¹æ®é€‰æ‹©å™¨åˆ‡æ¢ä¸åŒçš„å†…å®¹æ˜¾ç¤ºã€‚</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://vanch-1258064554.cos.ap-shanghai.myqcloud.com/gif/gif_1699821243_12.gif" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>
<p>è‹¹æœå¹¶ä¸æ¨èåµŒå¥—æ»šåŠ¨è§†å›¾ï¼Œå¦‚æœç›´æ¥æ·»åŠ çš„è¯ï¼Œå°±ä¼šå‡ºç°ä¸‹å›¾è¿™ç§æƒ…å†µï¼Œæ‰‹åŠ¿çš„å†²çªé€ æˆäº†ä½“éªŒä¸Šçš„æ‚²å‰§ã€‚</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://vanch-1258064554.cos.ap-shanghai.myqcloud.com/gif/gif_1544777437_77.gif" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä¹Ÿä¸æ–­çš„åœ¨æ€è€ƒè§£å†³æ–¹æ¡ˆï¼Œç»å†äº†å‡ æ¬¡é‡æ„åï¼Œæœ‰äº†äº›æ”¹è¿›çš„ç»éªŒï¼Œå› æ­¤æŠ½ç©ºæ•´ç†äº†ä¸‰ç§æ–¹æ¡ˆï¼Œä»–ä»¬å®ç°çš„æœ€ç»ˆæ•ˆæœéƒ½æ˜¯ä¸€æ ·çš„ã€‚</p>
<hr>
<h2 id="åˆ†è€Œæ²»ä¹‹"><a href="#åˆ†è€Œæ²»ä¹‹" class="headerlink" title="åˆ†è€Œæ²»ä¹‹"></a>åˆ†è€Œæ²»ä¹‹</h2><p>æœ€å¸¸è§çš„ä¸€ç§æ–¹æ¡ˆå°±æ˜¯ä½¿ç”¨ <code>UITableView</code> ä½œä¸ºå¤–éƒ¨æ¡†æ¶ï¼Œå°†å­è§†å›¾çš„å†…å®¹é€šè¿‡ <code>UITableViewCell</code> çš„æ–¹å¼å±•ç°ã€‚</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://vanch-1258064554.cos.ap-shanghai.myqcloud.com/blog/pic_1545731447_55.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>
<p>è¿™ç§åšæ³•çš„å¥½å¤„åœ¨äºè§£è€¦æ€§ï¼Œæ¡†æ¶åªè¦æ¥å—ä¸åŒçš„æ•°æ®æºå°±èƒ½åˆ·æ–°å¯¹åº”çš„å†…å®¹ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, heightForRowAt indexPath: IndexPath)</span></span> </span><br><span class="line">    -&gt; <span class="type">CGFloat</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> indexPath.section == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">NSTHeaderHeight</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> segmentView.selectedIndex == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> tableSource.tableView(<span class="number">_</span>:tableView, heightForRowAt:indexPath)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> webSource.tableView(<span class="number">_</span>:tableView, heightForRowAt:indexPath)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯ç›¸å¯¹çš„ä¹Ÿæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœå†…éƒ¨æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ»šåŠ¨è§†å›¾ï¼Œæ¯”å¦‚ <code>UIWebView</code> çš„å­è§†å›¾ <code>UIWebScrollView</code>ï¼Œè¿˜æ˜¯ä¼šæœ‰æ‰‹åŠ¿å†²çªçš„æƒ…å†µã€‚</p>
<p>å¸¸è§„åšæ³•é¦–å…ˆç¦æ­¢å†…éƒ¨è§†å›¾çš„æ»šåŠ¨ï¼Œå½“æ»šåŠ¨åˆ°ç½‘é¡µçš„ä½ç½®æ—¶ï¼Œå¯åŠ¨ç½‘é¡µçš„æ»šåŠ¨å¹¶ç¦æ­¢å¤–éƒ¨æ»šåŠ¨ï¼Œåä¹‹äº¦ç„¶ã€‚</p>
<p>ä¸å¹¸çš„æ˜¯ï¼Œè¿™ç§æ–¹æ¡ˆæœ€å¤§çš„é—®é¢˜æ˜¯<strong>é¡¿æŒ«æ„Ÿ</strong>ã€‚</p>
<p>å†…éƒ¨è§†å›¾åˆå§‹æ˜¯ä¸èƒ½æ»šåŠ¨çš„ï¼Œæ‰€ä»¥å¤–éƒ¨è§†å›¾ä½œä¸ºæ•´å¥—äº‹ä»¶çš„æ¥æ”¶è€…ã€‚å½“æ»šåŠ¨åˆ°é¢„è®¾çš„ä½ç½®å¹¶å¼€å¯äº†å†…éƒ¨è§†å›¾çš„æ»šåŠ¨ï¼Œäº‹ä»¶è¿˜æ˜¯ä¼ é€’ç»™å”¯ä¸€æ¥æ”¶è€…å¤–éƒ¨è§†å›¾ï¼Œåªæœ‰æ¾å¼€æ‰‹ç»“æŸäº‹ä»¶åé‡æ–°è§¦å‘ï¼Œæ‰èƒ½ä½¿å†…éƒ¨è§†å›¾å¼€å§‹æ»šåŠ¨ã€‚</p>
<p>å¥½åœ¨æœ‰ä¸€ä¸ªæ–¹æ³•å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">scrollViewDidScroll</span><span class="params">(<span class="number">_</span> scrollView: UIScrollView)</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> scrollView == tableView &#123;</span><br><span class="line">        <span class="comment">//å¤–éƒ¨åœ¨æ»šåŠ¨</span></span><br><span class="line">        <span class="keyword">if</span> offset &gt; anchor &#123;</span><br><span class="line">            <span class="comment">//æ»šåˆ°è¿‡äº†é”šç‚¹ï¼Œè¿˜åŸå¤–éƒ¨è§†å›¾ä½ç½®ï¼Œæ·»åŠ åç§»åˆ°å†…éƒ¨</span></span><br><span class="line">            tableView.setContentOffset(<span class="type">CGPoint</span>(x: <span class="number">0</span>, y: anchor), animated: <span class="literal">false</span>)</span><br><span class="line">            <span class="keyword">let</span> webOffset = webScrollView.contentOffset.y + offset - anchor</span><br><span class="line">            webScrollView.setContentOffset(<span class="type">CGPoint</span>(x: <span class="number">0</span>, y: webOffset), animated: <span class="literal">false</span>)</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> offset &lt; anchor &#123;</span><br><span class="line">            <span class="comment">//æ²¡æ»šåˆ°é”šç‚¹ï¼Œè¿˜åŸä½ç½®</span></span><br><span class="line">            webScrollView.setContentOffset(<span class="type">CGPoint</span>.zero, animated: <span class="literal">false</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">//å†…éƒ¨åœ¨æ»šåŠ¨</span></span><br><span class="line">        <span class="keyword">if</span> offset &gt; <span class="number">0</span> &#123;</span><br><span class="line">            <span class="comment">//å†…éƒ¨æ»šåŠ¨è¿˜åŸå¤–éƒ¨ä½ç½®</span></span><br><span class="line">            tableView.setContentOffset(<span class="type">CGPoint</span>(x: <span class="number">0</span>, y: anchor), animated: <span class="literal">false</span>)</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> offset &lt; <span class="number">0</span> &#123;</span><br><span class="line">            <span class="comment">//å†…éƒ¨å¾€ä¸Šæ»šï¼Œæ·»åŠ åç§»é‡åˆ°å¤–éƒ¨è§†å›¾</span></span><br><span class="line">            <span class="keyword">let</span> tableOffset = tableView.contentOffset.y + offset</span><br><span class="line">            tableView.setContentOffset(<span class="type">CGPoint</span>(x: <span class="number">0</span>, y: tableOffset), animated: <span class="literal">false</span>)</span><br><span class="line">            webScrollView.setContentOffset(<span class="type">CGPoint</span>.zero, animated: <span class="literal">false</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">scrollViewDidEndScroll</span><span class="params">(<span class="number">_</span> scrollView: UIScrollView)</span></span> &#123;</span><br><span class="line">    <span class="comment">//æ ¹æ®æ»šåŠ¨åœæ­¢åçš„åç§»é‡ï¼Œè®¡ç®—è°å¯ä»¥æ»šåŠ¨</span></span><br><span class="line">    <span class="keyword">var</span> outsideScrollEnable = <span class="literal">true</span></span><br><span class="line">    <span class="keyword">if</span> scrollView == tableView &#123;</span><br><span class="line">        <span class="keyword">if</span> offset == anchor &amp;&amp;</span><br><span class="line">            webScrollView.contentOffset.y &gt; <span class="number">0</span> &#123;</span><br><span class="line">            outsideScrollEnable = <span class="literal">false</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            outsideScrollEnable = <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> offset == <span class="number">0</span> &amp;&amp;</span><br><span class="line">            tableView.contentOffset.y &lt; anchor &#123;</span><br><span class="line">            outsideScrollEnable = <span class="literal">true</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            outsideScrollEnable = <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è®¾ç½®æ»šåŠ¨ï¼Œæ˜¾ç¤ºå¯¹åº”çš„æ»šåŠ¨æ¡</span></span><br><span class="line">    tableView.isScrollEnabled = outsideScrollEnable</span><br><span class="line">    tableView.showsHorizontalScrollIndicator = outsideScrollEnable</span><br><span class="line">    webScrollView.isScrollEnabled = !outsideScrollEnable</span><br><span class="line">    webScrollView.showsHorizontalScrollIndicator = !outsideScrollEnable</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡æ¥å—æ»šåŠ¨å›è°ƒï¼Œæˆ‘ä»¬å°±å¯ä»¥äººä¸ºæ§åˆ¶æ»šåŠ¨è¡Œä¸ºã€‚å½“æ»šåŠ¨è·ç¦»è¶…è¿‡äº†æˆ‘ä»¬çš„é¢„è®¾å€¼ï¼Œå°±å¯ä»¥è®¾ç½®å¦ä¸€ä¸ªè§†å›¾çš„åç§»é‡æ¨¡æ‹Ÿå‡ºæ»šåŠ¨çš„æ•ˆæœã€‚æ»šåŠ¨çŠ¶æ€ç»“æŸåï¼Œå†æ ¹æ®åˆ¤æ–­æ¥å®šä½å“ªä¸ªè§†å›¾å¯ä»¥æ»šåŠ¨ã€‚</p>
<p>å½“ç„¶è¦ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œæˆ‘ä»¬å°±å¿…é¡»æŠŠä¸¤ä¸ªæ»šåŠ¨è§†å›¾çš„ä»£ç†éƒ½è®¾ç½®ä¸ºæ§åˆ¶å™¨ï¼Œå¯èƒ½ä¼šå¯¹ä»£ç é€»è¾‘æœ‰å½±å“ (UIWebView æ˜¯ UIWebScrollView çš„ä»£ç†ï¼Œåæ–‡æœ‰è§£å†³æ–¹æ¡ˆ)ã€‚</p>
<p><code>UITableView</code> åµŒå¥—çš„æ–¹å¼ï¼Œèƒ½å¤Ÿå¾ˆå¥½çš„è§£å†³åµŒå¥—ç®€å•è§†å›¾ï¼Œé‡åˆ° <code>UIWebView</code> è¿™ç§å¤æ‚æƒ…å†µï¼Œä¹Ÿèƒ½äººä¸ºæ§åˆ¶è§£å†³ã€‚ä½†æ˜¯ä½œä¸º <code>UITableView</code> çš„ä¸€ç¯ï¼Œæœ‰å¾ˆå¤šé™åˆ¶(æ¯”å¦‚ä¸åŒæ•°æ®æºéœ€è¦ä¸åŒçš„è®¾å®šï¼Œæœ‰çš„å¸Œæœ›åŠ¨æ€é«˜åº¦ï¼Œæœ‰çš„éœ€è¦æ’å…¥é¢å¤–çš„è§†å›¾)ï¼Œè¿™äº›éƒ½ä¸èƒ½å¾ˆå¥½çš„è§£å†³ã€‚</p>
<hr>
<h2 id="å„è‡ªä¸ºæ”¿"><a href="#å„è‡ªä¸ºæ”¿" class="headerlink" title="å„è‡ªä¸ºæ”¿"></a>å„è‡ªä¸ºæ”¿</h2><p>å¦ä¸€ç§è§£å†³æ–¹æ¡ˆæ¯”è¾ƒåå®¢ä¸ºä¸»ï¼Œçµæ„Ÿæ¥æºäºä¸‹æ‹‰åˆ·æ–°çš„å®ç°æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯å°†éœ€è¦æ˜¾ç¤ºçš„å†…å®¹å¡å…¥è´Ÿä¸€å±ã€‚</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://vanch-1258064554.cos.ap-shanghai.myqcloud.com/blog/pic_1545731463_75.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>
<p>é¦–å…ˆä¿è¯å­è§†å›¾æ’‘æ»¡å…¨å±ï¼ŒæŠŠä¸»è§†å›¾å†…å®¹æ’å…¥å­è§†å›¾ï¼Œå¹¶è®¾ç½® <code>ContentInset</code> ä¸ºå¤´éƒ¨é«˜åº¦ï¼Œä»è€Œå®ç°æ•ˆæœã€‚</p>
<p>æ¥çœ‹ä¸‹ä»£ç å®ç°ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">reloadScrollView</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">//é€‰æ‹©å½“å‰æ˜¾ç¤ºçš„è§†å›¾</span></span><br><span class="line">    <span class="keyword">let</span> scrollView = segmentView.selectedIndex == <span class="number">0</span> ? </span><br><span class="line">        tableSource.tableView : webSource.webView.scrollView</span><br><span class="line">    <span class="comment">//ç›¸åŒè§†å›¾å°±ä¸æ“ä½œäº†</span></span><br><span class="line">    <span class="keyword">if</span> currentScrollView == scrollView &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ä»ä¸Šæ¬¡çš„è§†å›¾ä¸­ç§»é™¤å¤–éƒ¨å†…å®¹</span></span><br><span class="line">    headLabel.removeFromSuperview()</span><br><span class="line">    segmentView.removeFromSuperview()</span><br><span class="line">    <span class="keyword">if</span> currentScrollView != <span class="literal">nil</span> &#123;</span><br><span class="line">        currentScrollView!.removeFromSuperview()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è®¾ç½®æ–°æ»šåŠ¨è§†å›¾çš„å†…åµŒåç§»é‡ä¸ºå¤–éƒ¨å†…å®¹çš„é«˜åº¦</span></span><br><span class="line">    scrollView.contentInset = <span class="type">UIEdgeInsets</span>(top: </span><br><span class="line">        <span class="type">NSTSegmentHeight</span> + <span class="type">NSTHeaderHeight</span>, <span class="keyword">left</span>: <span class="number">0</span>, bottom: <span class="number">0</span>, <span class="keyword">right</span>: <span class="number">0</span>)</span><br><span class="line">    <span class="comment">//æ·»åŠ å¤–éƒ¨å†…å®¹åˆ°æ–°è§†å›¾ä¸Š</span></span><br><span class="line">    scrollView.addSubview(headLabel)</span><br><span class="line">    scrollView.addSubview(segmentView)</span><br><span class="line">    view.addSubview(scrollView)</span><br><span class="line">    </span><br><span class="line">    currentScrollView = scrollView</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç”±äºåœ¨UIå±‚çº§å°±åªå­˜åœ¨ä¸€ä¸ªæ»šåŠ¨è§†å›¾ï¼Œæ‰€ä»¥å·§å¦™çš„é¿å¼€äº†å†²çªã€‚</p>
<p>ç›¸å¯¹çš„ï¼Œæ’å…¥çš„å¤´éƒ¨è§†å›¾å¿…é¡»è¦è½»é‡ï¼Œå¦‚æœéœ€è¦å’Œæˆ‘ä¾‹å­ä¸­ä¸€æ ·å®ç°æµ®åŠ¨æ æ•ˆæœï¼Œå°±è¦è§‚å¯Ÿåç§»é‡çš„å˜åŒ–æ‰‹åŠ¨å®šä½ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">reloadScrollView</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> currentScrollView != <span class="literal">nil</span> &#123;</span><br><span class="line">        currentScrollView!.removeFromSuperview()</span><br><span class="line">        <span class="comment">//ç§»é™¤ä¹‹å‰çš„ KVO</span></span><br><span class="line">        observer?.invalidate()</span><br><span class="line">        observer = <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ–°è§†å›¾æ·»åŠ æ»šåŠ¨è§‚å¯Ÿ</span></span><br><span class="line">    observer = scrollView.observe(\.contentOffset, options: [.new, .initial]) </span><br><span class="line">    &#123;[<span class="keyword">weak</span> <span class="keyword">self</span>] object, change <span class="keyword">in</span></span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> strongSelf = <span class="keyword">self</span> <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">let</span> closureScrollView = object <span class="keyword">as</span> <span class="type">UIScrollView</span></span><br><span class="line">        <span class="keyword">var</span> segmentFrame = strongSelf.segmentView.frame</span><br><span class="line">        <span class="comment">//è®¡ç®—åç§»ä½ç½®</span></span><br><span class="line">        <span class="keyword">let</span> safeOffsetY = closureScrollView.contentOffset.y + </span><br><span class="line">            closureScrollView.safeAreaInsets.top</span><br><span class="line">        <span class="comment">//è®¡ç®—æµ®åŠ¨æ ä½ç½®</span></span><br><span class="line">        <span class="keyword">if</span> safeOffsetY &lt; -<span class="type">NSTSegmentHeight</span> &#123;</span><br><span class="line">            segmentFrame.origin.y = -<span class="type">NSTSegmentHeight</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            segmentFrame.origin.y = safeOffsetY</span><br><span class="line">        &#125;</span><br><span class="line">        strongSelf.segmentView.frame = segmentFrame</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ–¹æ³•æœ‰ä¸€ä¸ªå‘ï¼Œå¦‚æœåŠ è½½çš„ <code>UITableView</code> éœ€è¦æ˜¾ç¤ºè‡ªå·±çš„ <code>SectionHeader</code> ï¼Œé‚£ä¹ˆç”±äºè®¾ç½®äº† <code>ContentInset</code> ï¼Œå°±ä¼šå¯¼è‡´æµ®åŠ¨ä½ç½®åç§»ã€‚</p>
<p>æˆ‘æƒ³åˆ°çš„è§£å†³åŠæ³•å°±æ˜¯åœ¨å›è°ƒä¸­ä¸æ–­è°ƒæ•´ <code>ContentInset</code> æ¥è§£å†³ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">observer = scrollView.observe(\.contentOffset, options: [.new, .initial]) </span><br><span class="line">&#123;[<span class="keyword">weak</span> <span class="keyword">self</span>] object, change <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> strongSelf = <span class="keyword">self</span> <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> closureScrollView = object <span class="keyword">as</span> <span class="type">UIScrollView</span></span><br><span class="line">    <span class="comment">//è®¡ç®—åç§»ä½ç½®</span></span><br><span class="line">    <span class="keyword">let</span> safeOffsetY = closureScrollView.contentOffset.y + </span><br><span class="line">        closureScrollView.safeAreaInsets.top</span><br><span class="line">    <span class="comment">//ContentInset æ ¹æ®å½“å‰æ»šåŠ¨å®šåˆ¶</span></span><br><span class="line">    <span class="keyword">var</span> contentInsetTop = <span class="type">NSTSegmentHeight</span> + <span class="type">NSTHeaderHeight</span></span><br><span class="line">    <span class="keyword">if</span> safeOffsetY &lt; <span class="number">0</span> &#123;</span><br><span class="line">        contentInsetTop = <span class="built_in">min</span>(contentInsetTop, fabs(safeOffsetY))</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        contentInsetTop = <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    closureScrollView.contentInset = <span class="type">UIEdgeInsets</span>(top: </span><br><span class="line">    contentInsetTop, <span class="keyword">left</span>: <span class="number">0</span>, bottom: <span class="number">0</span>, <span class="keyword">right</span>: <span class="number">0</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªæ–¹æ³•å¥½åœ¨ä¿è¯äº†æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæ»šåŠ¨è§†å›¾ï¼Œæ‰€æœ‰çš„æ‰‹åŠ¿æ“ä½œéƒ½æ˜¯åŸç”Ÿå®ç°ï¼Œå‡å°‘äº†å¯èƒ½å­˜åœ¨çš„è”åŠ¨é—®é¢˜ã€‚</p>
<p>ä½†ä¹Ÿæœ‰ä¸€ä¸ªå°ç¼ºé™·ï¼Œé‚£å°±æ˜¯å¤´éƒ¨å†…å®¹çš„åç§»é‡éƒ½æ˜¯è´Ÿæ•°ï¼Œè¿™ä¸åˆ©äºä¸‰æ–¹è°ƒç”¨å’Œç³»ç»ŸåŸå§‹è°ƒç”¨çš„å®ç°ï¼Œéœ€è¦ç»´æŠ¤ã€‚</p>
<hr>
<h2 id="ä¸­å¤®é›†æƒ"><a href="#ä¸­å¤®é›†æƒ" class="headerlink" title="ä¸­å¤®é›†æƒ"></a>ä¸­å¤®é›†æƒ</h2><p>æœ€åä»‹ç»ä¸€ç§æ¯”è¾ƒå®Œå–„çš„æ–¹æ¡ˆã€‚å¤–éƒ¨è§†å›¾é‡‡ç”¨ <code>UIScrollView</code> ï¼Œå†…éƒ¨è§†å›¾æ°¸è¿œä¸å¯æ»šåŠ¨ï¼Œå¤–éƒ¨è¾¹æ»šåŠ¨è¾¹è°ƒæ•´å†…éƒ¨çš„ä½ç½®ï¼Œä¿è¯äº†åŒæ–¹çš„ç‹¬ç«‹æ€§ã€‚</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://vanch-1258064554.cos.ap-shanghai.myqcloud.com/blog/pic_1545731478_85.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>
<p>ä¸ç¬¬äºŒç§æ–¹æ³•ç›¸æ¯”ï¼Œåˆ‡æ¢ä¸åŒåŠŸèƒ½å°±æ¯”è¾ƒç®€å•ï¼Œåªéœ€è¦æ›¿æ¢å†…éƒ¨è§†å›¾ï¼Œå¹¶å®ç°å¤–éƒ¨è§†å›¾çš„ä»£ç†ï¼Œæ»šåŠ¨æ—¶è®¾ç½®å†…éƒ¨è§†å›¾çš„åç§»é‡å°±å¯ä»¥äº†ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">reloadScrollView</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">//è·å–å½“å‰æ•°æ®æº</span></span><br><span class="line">    <span class="keyword">let</span> contentScrollView = segmentView.selectedIndex == <span class="number">0</span> ? </span><br><span class="line">    tableSource.tableView : webSource.webView.scrollView</span><br><span class="line">    <span class="comment">//ç§»é™¤ä¹‹å‰çš„è§†å›¾</span></span><br><span class="line">    <span class="keyword">if</span> currentScrollView != <span class="literal">nil</span> &#123;</span><br><span class="line">        currentScrollView!.removeFromSuperview()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ç¦æ­¢æ»šåŠ¨åæ·»åŠ æ–°è§†å›¾</span></span><br><span class="line">    contentScrollView.isScrollEnabled = <span class="literal">false</span></span><br><span class="line">    scrollView.addSubview(contentScrollView)</span><br><span class="line">    <span class="comment">//ä¿å­˜å½“å‰è§†å›¾</span></span><br><span class="line">    currentScrollView = contentScrollView</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">scrollViewDidScroll</span><span class="params">(<span class="number">_</span> scrollView: UIScrollView)</span></span> &#123;</span><br><span class="line">    <span class="comment">//æ ¹æ®åç§»é‡åˆ·æ–° Segment å’Œå†…éƒ¨è§†å›¾çš„ä½ç½®</span></span><br><span class="line">    <span class="keyword">self</span>.view.setNeedsLayout()</span><br><span class="line">    <span class="keyword">self</span>.view.layoutIfNeeded()</span><br><span class="line">    <span class="comment">//æ ¹æ®å¤–éƒ¨è§†å›¾æ•°æ®è®¡ç®—å†…éƒ¨è§†å›¾çš„åç§»é‡</span></span><br><span class="line">    <span class="keyword">var</span> floatOffset = scrollView.contentOffset</span><br><span class="line">    floatOffset.y -= (<span class="type">NSTHeaderHeight</span> + <span class="type">NSTSegmentHeight</span>)</span><br><span class="line">    floatOffset.y = <span class="built_in">max</span>(floatOffset.y, <span class="number">0</span>)</span><br><span class="line">    <span class="comment">//åŒæ­¥å†…éƒ¨è§†å›¾çš„åç§»</span></span><br><span class="line">    <span class="keyword">if</span> currentScrollView?.contentOffset.equalTo(floatOffset) == <span class="literal">false</span> &#123;</span><br><span class="line">        currentScrollView?.setContentOffset(floatOffset, animated: <span class="literal">false</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLayoutSubviews</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.viewDidLayoutSubviews()</span><br><span class="line">    <span class="comment">//æ’‘æ»¡å…¨éƒ¨</span></span><br><span class="line">    scrollView.frame = view.bounds</span><br><span class="line">    <span class="comment">//å¤´éƒ¨å›ºå®š</span></span><br><span class="line">    headLabel.frame = <span class="type">CGRect</span>(x: <span class="number">15</span>, y: <span class="number">0</span>, </span><br><span class="line">        width: scrollView.frame.size.width - <span class="number">30</span>, height: <span class="type">NSTHeaderHeight</span>)</span><br><span class="line">    <span class="comment">//Segmentçš„ä½ç½®æ˜¯åç§»å’Œå¤´éƒ¨é«˜åº¦çš„æœ€å¤§å€¼</span></span><br><span class="line">    <span class="comment">//ä¿è¯æ»šåŠ¨åˆ°å¤´éƒ¨ä½ç½®æ—¶ä¸æµ®åŠ¨</span></span><br><span class="line">    segmentView.frame = <span class="type">CGRect</span>(x: <span class="number">0</span>, </span><br><span class="line">        y: <span class="built_in">max</span>(<span class="type">NSTHeaderHeight</span>, scrollView.contentOffset.y), </span><br><span class="line">        width: scrollView.frame.size.width, height: <span class="type">NSTSegmentHeight</span>)</span><br><span class="line">    <span class="comment">//è°ƒæ•´å†…éƒ¨è§†å›¾çš„ä½ç½®</span></span><br><span class="line">    <span class="keyword">if</span> currentScrollView != <span class="literal">nil</span> &#123;</span><br><span class="line">        currentScrollView?.frame = <span class="type">CGRect</span>(x: <span class="number">0</span>, y: segmentView.frame.maxY, </span><br><span class="line">            width: scrollView.frame.size.width, </span><br><span class="line">            height: view.bounds.size.height - <span class="type">NSTSegmentHeight</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å½“å¤–éƒ¨è§†å›¾å¼€å§‹æ»šåŠ¨æ—¶ï¼Œå…¶å®ä¸€ç›´åœ¨æ ¹æ®åç§»é‡è°ƒæ•´å†…éƒ¨è§†å›¾çš„ä½ç½®ã€‚</p>
<p>å¤–éƒ¨è§†å›¾çš„å†…å®¹é«˜åº¦ä¸æ˜¯å›ºå®šçš„ï¼Œè€Œæ˜¯å†…éƒ¨è§†å›¾å†…å®¹é«˜åº¦åŠ ä¸Šå¤´éƒ¨é«˜åº¦ï¼Œæ‰€ä»¥éœ€è¦è§‚å¯Ÿå…¶å˜åŒ–å¹¶åˆ·æ–°ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">reloadScrollView</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> currentScrollView != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="comment">//ç§»é™¤KVO</span></span><br><span class="line">        observer?.invalidate()</span><br><span class="line">        observer = <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ·»åŠ å†…å®¹å°ºå¯¸çš„ KVO</span></span><br><span class="line">    observer = contentScrollView.observe(\.contentSize, options: [.new, .initial]) </span><br><span class="line">    &#123;[<span class="keyword">weak</span> <span class="keyword">self</span>] object, change <span class="keyword">in</span></span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> strongSelf = <span class="keyword">self</span> <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">let</span> closureScrollView = object <span class="keyword">as</span> <span class="type">UIScrollView</span></span><br><span class="line">        <span class="keyword">let</span> contentSizeHeight = <span class="type">NSTHeaderHeight</span> + <span class="type">NSTSegmentHeight</span> + </span><br><span class="line">            closureScrollView.contentSize.height</span><br><span class="line">        <span class="comment">//å½“å†…å®¹å°ºå¯¸æ”¹å˜æ—¶ï¼Œåˆ·æ–°å¤–éƒ¨è§†å›¾çš„æ€»å°ºå¯¸ï¼Œä¿è¯æ»šåŠ¨è·ç¦»</span></span><br><span class="line">        strongSelf.scrollView.contentSize = <span class="type">CGSize</span>(width: <span class="number">0</span>, height: contentSizeHeight)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªæ–¹æ³•ä¹Ÿæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œç”±äºå†…éƒ¨æ»šåŠ¨éƒ½æ˜¯ç”±å¤–éƒ¨æ¥å®ç°ï¼Œæ²¡æœ‰æ‰‹åŠ¿çš„å‚ä¸ï¼Œå› æ­¤å¾—ä¸åˆ° <code>scrollViewDidEndDragging</code> ç­‰æ»šåŠ¨å›è°ƒï¼Œå¦‚æœæ¶‰åŠç¿»é¡µä¹‹ç±»çš„éœ€æ±‚å°±ä¼šé‡åˆ°å›°éš¾ã€‚</p>
<p>è§£å†³åŠæ³•æ˜¯è·å–å†…éƒ¨è§†å›¾åŸæœ¬çš„ä»£ç†ï¼Œå½“å¤–éƒ¨è§†å›¾ä»£ç†æ”¶åˆ°å›è°ƒæ—¶ï¼Œè½¬å‘ç»™è¯¥ä»£ç†å®ç°åŠŸèƒ½ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">reloadScrollView</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">typealias</span> <span class="type">ClosureType</span> = <span class="meta">@convention</span>(<span class="built_in">c</span>) (<span class="type">AnyObject</span>, <span class="type">Selector</span>) -&gt; <span class="type">AnyObject</span></span><br><span class="line">    <span class="comment">//å®šä¹‰è·å–ä»£ç†æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">let</span> sel = #selector(getter: <span class="type">UIScrollView</span>.delegate)</span><br><span class="line">    <span class="comment">//è·å–æ»šåŠ¨è§†å›¾ä»£ç†çš„å®ç°</span></span><br><span class="line">    <span class="keyword">let</span> imp = class_getMethodImplementation(<span class="type">UIScrollView</span>.<span class="keyword">self</span>, sel)</span><br><span class="line">    <span class="comment">//åŒ…è£…æˆé—­åŒ…çš„å½¢å¼</span></span><br><span class="line">    <span class="keyword">let</span> delegateFunc : <span class="type">ClosureType</span> = <span class="built_in">unsafeBitCast</span>(imp, to: <span class="type">ClosureType</span>.<span class="keyword">self</span>)</span><br><span class="line">    <span class="comment">//è·å¾—å®é™…çš„ä»£ç†å¯¹è±¡</span></span><br><span class="line">    currentScrollDelegate = delegateFunc(contentScrollView, sel) <span class="keyword">as</span>? <span class="type">UIScrollViewDelegate</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">scrollViewDidEndDragging</span><span class="params">(<span class="number">_</span> scrollView: UIScrollView, willDecelerate decelerate: Bool)</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> currentScrollDelegate != <span class="literal">nil</span> &#123;</span><br><span class="line">        currentScrollDelegate!.scrollViewDidEndDragging?</span><br><span class="line">            (currentScrollView!, willDecelerate: decelerate)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„è¿™é‡Œæˆ‘å¹¶æ²¡æœ‰ä½¿ç”¨ <code>contentScrollView.delegate</code>ï¼Œè¿™æ˜¯å› ä¸º <code>UIWebScrollView</code> é‡è½½äº†è¿™ä¸ªæ–¹æ³•å¹¶è¿”å›äº† <code>UIWebView</code> çš„ä»£ç†ã€‚ä½†å®é™…çœŸæ­£çš„ä»£ç†æ˜¯ä¸€ä¸ª <code>NSProxy</code> å¯¹è±¡ï¼Œä»–è´Ÿè´£æŠŠå›è°ƒä¼ ç»™ <code>UIWebView</code> å’Œå¤–éƒ¨ä»£ç†ã€‚è¦ä¿è¯ <code>UIWebView</code> èƒ½æ­£å¸¸å¤„ç†çš„è¯ï¼Œå°±è¦è®©å®ƒä¹Ÿæ”¶åˆ°å›è°ƒï¼Œæ‰€ä»¥ä½¿ç”¨ <code>Runtime</code> æ‰§è¡Œ <code>UIScrollView</code> åŸå§‹è·å–ä»£ç†çš„å®ç°æ¥è·å–ã€‚</p>
<hr>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>ç›®å‰åœ¨ç”Ÿäº§ç¯å¢ƒä¸­æˆ‘ä½¿ç”¨çš„æ˜¯æœ€åä¸€ç§æ–¹æ³•ï¼Œä½†å…¶å®è¿™äº›æ–¹æ³•äº’æœ‰ä¼˜ç¼ºç‚¹ã€‚</p>
<table>
<thead>
<tr>
<th>æ–¹æ¡ˆ</th>
<th>åˆ†è€Œæ²»ä¹‹</th>
<th>å„è‡ªä¸ºæ”¿</th>
<th>ä¸­å¤®é›†æƒ</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ–¹å¼</td>
<td>åµŒå¥—</td>
<td>å†…åµŒ</td>
<td>åµŒå¥—</td>
</tr>
<tr>
<td>è”åŠ¨</td>
<td>æ‰‹åŠ¨</td>
<td>è‡ªåŠ¨</td>
<td>æ‰‹åŠ¨</td>
</tr>
<tr>
<td>åˆ‡æ¢</td>
<td>æ•°æ®æº</td>
<td>æ•´ä½“æ›´æ”¹</td>
<td>å±€éƒ¨æ›´æ”¹</td>
</tr>
<tr>
<td>ä¼˜åŠ¿</td>
<td>ä¾¿äºç†è§£</td>
<td>æ»šåŠ¨æ•ˆæœå¥½</td>
<td>ç‹¬ç«‹æ€§</td>
</tr>
<tr>
<td>åŠ£åŠ¿</td>
<td>è”åŠ¨å¤æ‚</td>
<td>å¤æ‚åœºæ™¯è‹¦æ‰‹</td>
<td>æ¨¡æ‹Ÿæ»šåŠ¨éšæ‚£</td>
</tr>
<tr>
<td>è¯„åˆ†</td>
<td>ğŸŒŸğŸŒŸğŸŒŸ</td>
<td>ğŸŒŸğŸŒŸğŸŒŸğŸŒŸ</td>
<td>ğŸŒŸğŸŒŸğŸŒŸğŸŒŸ</td>
</tr>
</tbody>
</table>
<p>æŠ€æœ¯æ²¡æœ‰å¯¹é”™ï¼Œåªæœ‰é€‚ä¸é€‚åˆå½“å‰çš„éœ€æ±‚ã€‚</p>
<p>åˆ†è€Œæ²»ä¹‹é€‚åˆ <code>UITableView</code> äº’ç›¸åµŒå¥—çš„æƒ…å†µï¼Œé€šè¿‡æ•°æ®æºçš„å˜åŒ–èƒ½å¤Ÿå¾ˆå¥½å®ç°åˆ‡æ¢åŠŸèƒ½ã€‚</p>
<p>å„è‡ªä¸ºæ”¿é€‚åˆç›¸å¯¹ç®€å•çš„é¡µé¢éœ€æ±‚ï¼Œå¦‚æœèƒ½å¤Ÿé¿å…æµ®åŠ¨æ¡†ï¼Œé‚£ä½¿ç”¨è¿™ä¸ªæ–¹æ³•èƒ½å¤Ÿå®ç°æœ€å¥½çš„æ»šåŠ¨æ•ˆæœã€‚</p>
<p>ä¸­å¤®é›†æƒé€‚åˆå¤æ‚çš„åœºæ™¯ï¼Œé€šè¿‡ç‹¬ç«‹ä¸åŒç±»å‹çš„æ»šåŠ¨è§†å›¾ï¼Œä½¿å¾—äº’ç›¸æœ€å°‘å½±å“ï¼Œä½†æ˜¯ç”±äºå…¶æ¨¡æ‹Ÿæ»šåŠ¨çš„ç‰¹æ€§ï¼Œéœ€è¦å°å¿ƒå¤„ç†ã€‚</p>
<p>å¸Œæœ›æœ¬æ–‡èƒ½ç»™å¤§å®¶å¸¦æ¥å¯å‘ï¼Œé¡¹ç›®å¼€æºä»£ç <a href="https://github.com/VanchChen/NestedScrollview" target="_blank" rel="noopener">åœ¨æ­¤</a>ï¼Œæ¬¢è¿æŒ‡æ•™ä¸Starã€‚</p>

        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    æœ€åæ›´æ–°æ—¶é—´ï¼š<time datetime="2018-12-25T09:54:50.335Z" itemprop="dateUpdated">2018-12-25 17:54:50</time>
</span><br>


        
        æœ¬æ–‡ç‰ˆæƒå½’<a href="https://vanchchen.github.io/" target="_blank">Vanch</a>æ‰€æœ‰ï¼Œæ¬¢è¿è½¬è½½ï¼Œä½†æœªç»ä½œè€…åŒæ„å¿…é¡»ä¿ç•™æ­¤æ®µå£°æ˜ï¼Œå¦åˆ™ä¿ç•™è¿½ç©¶æ³•å¾‹è´£ä»»çš„æƒåˆ©ã€‚
        
    </div>
    
    <footer>
        <a href="https://vanchchen.github.io">
            <img src="/images/avatar.jpg" alt="Vanch">
            Vanch
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">èµ</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/é‡æ„/">é‡æ„</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://vanchchen.github.io/p/7448.html&title=ã€Šä¸‰ç§UIScrollViewåµŒå¥—å®ç°æ–¹æ¡ˆã€‹ â€” Vanch's Blog&pic=https://vanchchen.github.io/images/avatar.jpg" data-title="å¾®åš">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="å¾®ä¿¡">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://vanchchen.github.io/p/7448.html&title=ã€Šä¸‰ç§UIScrollViewåµŒå¥—å®ç°æ–¹æ¡ˆã€‹ â€” Vanch's Blog&source=å˜¿å˜¿å˜¿ï½" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://vanchchen.github.io/p/7448.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=ã€Šä¸‰ç§UIScrollViewåµŒå¥—å®ç°æ–¹æ¡ˆã€‹ â€” Vanch's Blog&url=https://vanchchen.github.io/p/7448.html&via=https://vanchchen.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://vanchchen.github.io/p/7448.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between flex-row-reverse">
  

  
    <div class="waves-block waves-effect next">
      <a href="/p/648.html" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">è…¾è®¯äº‘Macå›¾åºŠæ’ä»¶</h4>
      </a>
    </div>
  
</nav>



    











    <!-- Valine Comments -->
    <div class="comments vcomment" id="comments"></div>
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script>
    <!-- Valine Comments script -->
    <script>
        var GUEST_INFO = ['nick','mail','link'];
        var guest_info = 'nick,mail,link'.split(',').filter(function(item){
          return GUEST_INFO.indexOf(item) > -1
        });
        new Valine({
            el: '#comments',
            notify: 'false' == 'true',
            verify: 'false' == 'true',
            appId: "YfjeluQO2LJ7T9AjqGw6P7QM-gzGzoHsz",
            appKey: "wrdh0ULPmDxPuPyOYdcLAzdU",
            avatar: "mm",
            placeholder: "Just go go",
            guest_info: guest_info.length == 0 ? GUEST_INFO : guest_info,
            pageSize: "10"
        })
    </script>
    <!-- Valine Comments end -->







</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        è°¢è°¢å¤§çˆ·~
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/images/wechat.jpg" alt="æ‰“èµäºŒç»´ç ">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/images/wechat.jpg" data-alipay="/images/alipay.jpg">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">å¾®ä¿¡</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">æ”¯ä»˜å®</span>
            </div>
        </label>
        
    </div>
</div>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        Holaï¼ç¬¬<span id="busuanzi_value_site_uv"></span>ä½å®¢äºº
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        æœ¬ç«™å±…ç„¶è¢«çœ‹äº†<span id="busuanzi_value_site_pv"></span>æ¬¡
    </span>
</p>


        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>åšå®¢å†…å®¹éµå¾ª <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">çŸ¥è¯†å…±äº« ç½²å - éå•†ä¸šæ€§ - ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…åè®®</a></span>
        </p>
    </div>
    <div class="bottom">
        <p><span>Vanch &copy; 2018</span>
            <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://vanchchen.github.io/p/7448.html&title=ã€Šä¸‰ç§UIScrollViewåµŒå¥—å®ç°æ–¹æ¡ˆã€‹ â€” Vanch's Blog&pic=https://vanchchen.github.io/images/avatar.jpg" data-title="å¾®åš">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="å¾®ä¿¡">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://vanchchen.github.io/p/7448.html&title=ã€Šä¸‰ç§UIScrollViewåµŒå¥—å®ç°æ–¹æ¡ˆã€‹ â€” Vanch's Blog&source=å˜¿å˜¿å˜¿ï½" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://vanchchen.github.io/p/7448.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=ã€Šä¸‰ç§UIScrollViewåµŒå¥—å®ç°æ–¹æ¡ˆã€‹ â€” Vanch's Blog&url=https://vanchchen.github.io/p/7448.html&via=https://vanchchen.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://vanchchen.github.io/p/7448.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>æ‰«ä¸€æ‰«ï¼Œåˆ†äº«åˆ°å¾®ä¿¡</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK4AAACuCAAAAACKZ2kyAAABwElEQVR42u3aQZICIQwFUO9/6Z4DTKn/BxqdqceqS1t4uEiFhMcjHteT8fudZ8+v3988cHFxl7nXy/FsyXwD7fyv58TFxT3JfRYxkqAzQyTz4+Li/i1uHsKSpAcXF/c/cXdRcHFxv5ObpyD51Hn4u+WshouLu8DNq5T3Pd9S38XFxR1xr3LkrZH8uVgdFxf3CDcPKG3S024pXxcXF/dubrvkrLG6fr/iMfuHcHFxF7j5AnnjJL+eVRRocHFxj3DbJVv07JMoGcLFxb2NO2uWzFogK7/CxcU9yV0pYuYb2Hb4wcXFPchdabLOAl+OG6JxcXG3cvPyaHKFa+VYFTVdcHFxb+C2Lc+kuLl+q2rYZMXFxd3ETVKWfEvtBmbpFC4u7knuCiVJd9qQ9yaQ4eLiHuG2jZM8trTfvjlQ4eLiHue2rdb26lWb4hQZEC4u7ibuVY68gDK7hDGsxODi4m7lzsqjs55tXnzZ1hPGxcVd4LbBa9dVrfZzXFzc89y2pZFfz1oJeXXBFBcX90PcPAC1DZjixIaLi/vF3HaeDSVUXFzcg9xZ0GlbpO0hChcX91PclcZnvo2kTbu5vouLizvh/gBCVXGw3VscUAAAAABJRU5ErkJggg==" alt="å¾®ä¿¡åˆ†äº«äºŒç»´ç ">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };


lazyScripts.push('//s95.cnzz.com/z_stat.php?id=1274985211&web_id=1274985211')

</script>

<script src="/js/main.min.js?v=1.7.2"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="/js/search.min.js?v=1.7.2" async></script>






<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>





</body>
</html>
